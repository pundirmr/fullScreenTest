<!doctype html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Pulse</title>
</head>

<body>
<div id="bg" class="bg">
      <div id="soundImg" class="soundOff"></div>
      <div id="yellowPacket" class="selectionYellow"></div>
      <div id="greenPacket" class="selectionGreen"></div>
      <div class="container">
          <button class="button1" type="button" onclick="enableGreenPacket()"></button>
          <button class="button2" type="button" onclick="enableYellowPacket()"></button>
          <button class="button3" type="button" onclick="updateSound()"></button>
          <button class="playButton" type="button"  onclick="displayIframe()"></button>
      </div>
  </div>
  
  <div id="portrait" class="portrait"></div>
  <div id="iframeDisplay" class="iFrameStyle"></div>  

</body>


<style>

body, html {
  height: 110%;
  margin: 0;
}

.portrait {
  /* The image used */
  background-image: url("OnlyBg.jpg");

  /* Full height */
  height: 100%; 

  /* Center and scale the image nicely */
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  display: block;
  z-index: 50;
}

.bg {
  /* The image used */
  background-image: url("ChooseProduct.jpg");

  /* Full height */
  height: 100%; 

  /* Center and scale the image nicely */
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  display: none;
  z-index: -1;
  margin: -50px 0px 0px 0px;
}

.soundOff {
    background-image: url(SoundOffIcon.png);
    height: 100%;
    width: 100%;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    display: none;
    position: absolute;
    z-index: 2;
}

.container {
    height: 100%;
    width: 100%;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    display: block;
    position: absolute;
    z-index: 2;
}

.selectionGreen {
    background-image: url(SelectionGreen.png);
    height: 100%;
    width: 100%;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    display: block;
    position: absolute;
    z-index: 2;
    margin: 50px 0px 0px 0px;
}

.selectionYellow {
    background-image: url(SelectionYellow.png);
    height: 100%;
    width: 100%;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    display: none;
    position: absolute;
    z-index: 2;
    margin: 50px 0px 0px 0px;
}

.button1{
    height: 25%;
    width: 20%;
    margin: -50px -50px;
    position: relative;
    top: 46%;
    left: 37%;
    border: 0px transparent;
    background-color: transparent;
    cursor: pointer;
}

.button2{
    height: 25%;
    width: 20%;
    margin: -50px -50px;
    position: relative;
    top: 46%;
    right: -57%;
    border: 0px transparent;
    background-color: transparent;
    cursor: pointer;
}

.button3{
    height: 9%;
    width: 46%;
    margin: -50px -50px;
    position: relative;
    top: 59%;
    left: 26%;
    border: 1px transparent;
    background-color: transparent;
    cursor: pointer;
}


.playButton{
    height: 9%;
    width: 46%;
    margin: -50px -50px;
    position: relative;
    top: 70%;
    left: -5%;
    border: 1px transparent;
    background-color: transparent;
    cursor: pointer;
}

.portraitInfoButton{
    height: 20%;
    width: 80%;
    margin: -50px -50px;
    position: relative;
    top: 40%;
    left: 25%;
    border: 1px transparent;
    background-color: #6e8512;
    cursor: pointer;
}

.iFrameStyle{
display: block;
}
</style>

<script>
var elem = document.documentElement;
function openFullscreen() {
    if (elem.requestFullscreen) {
    elem.requestFullscreen();
    } else if (elem.webkitRequestFullscreen) { /* Safari */
    elem.webkitRequestFullscreen();
    } else if (elem.msRequestFullscreen) { /* IE11 */
    elem.msRequestFullscreen();
    }
}

/* Close fullscreen */
function closeFullscreen() {
  if (elem.exitFullscreen) {
    elem.exitFullscreen();
  } else if (elem.webkitExitFullscreen) { /* Safari */
    elem.webkitExitFullscreen();
  } else if (elem.msExitFullscreen) { /* IE11 */
    elem.msExitFullscreen();
  }
}

function onShare(){
    const title = 'Pulse';
    const url = 'https://pundirmr.github.io/pulseScore/';
    const text = "My high score on Pulse game";
    if (navigator.share) {
      navigator
        .share({ title: `${title}`, url: `${url}`,text: `${text}`})
        .then(() => {
          console.log('Thanks for sharing!');
        })
        .catch(console.error);
    } else {
      window.location.replace(
        `https://pundirmr.github.io/pulseScore/`
      );
    }
}

var isLandscape = false;

var previousOrientation = window.orientation;
var checkOrientation = function(){
    if(window.orientation !== previousOrientation){
        previousOrientation = window.orientation;
        // orientation changed, do your magic here
        console.log(window.orientation);

        if(window.orientation == "0"){

          closeFullscreen();

window.scrollTo(0,0);
isLandscape = false;

                      document.getElementById("bg").style.display = "none";
                     document.getElementById("portrait").style.display = "block";
                     document.getElementById("iframeDisplay").style.display = "none";


        }else{
                openFullscreen();
                window.scrollTo(0,1);
                    isLandscape = true;

                    document.getElementById("bg").style.display = "block";
                    document.getElementById("portrait").style.display = "none";
                    document.getElementById("iframeDisplay").style.display = "none";

                    


        }
        
    }
};

window.addEventListener("resize", checkOrientation, false);
window.addEventListener("orientationchange", checkOrientation, false);

// (optional) Android doesn't always fire orientationChange on 180 degree turns
setInterval(checkOrientation, 2000);

window.onscroll = function(){
    if(isLandscape){
        window.scrollTo(0,1);
    }
};


</script>
</html>